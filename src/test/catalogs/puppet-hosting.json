{"data":{"resources":[{"aliases":["nginx"],"sourceline":19,"parameters":{"ensure":"present","require":"Class[hosting]","name":"nginx","provider":"apt"},"exported":false,"title":"nginx","type":"Package","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/init.pp","tags":["package","hosting"]},{"aliases":["/www/mysite.net"],"sourceline":112,"parameters":{"group":"root","ensure":"directory","path":"/www/mysite.net","mode":"0644"},"exported":false,"title":"/www/mysite.net","type":"File","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/init.pp","tags":["hosting::site","hosting","site","file"]},{"aliases":[],"sourceline":1,"parameters":{},"exported":false,"title":"main","type":"Stage","sourcefile":"dummy","tags":[]},{"aliases":["php5-curl"],"sourceline":14,"parameters":{"ensure":"present","require":"Class[hosting::php]","name":"php5-curl","provider":"apt"},"exported":false,"title":"php5-curl","type":"Package","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/php.pp","tags":["hosting::php","package","php","hosting"]},{"aliases":["vhost_mysite.net"],"sourceline":125,"parameters":{"group":"root","ensure":"file","path":"/etc/nginx/sites-available/mysite.net.conf","require":"File[/etc/nginx/sites-available/w3tc.inc]","mode":"0644","content":"# Hosting name: My Website\n# Contact person: Viktor Petersson <vpetersson@wireload.net>\n\n# DNS points to: 10.0.0.1\n\nserver {\n  server_name mysite.net\n                mysite.*\n                www.mysite.net\n                ;\n\n  if ($host != 'mysite.net' ) {\n    rewrite ^/(.*)$ http://mysite.net/$1 permanent;\n  }\n\n  access_log /var/log/nginx/mysite.net.access.log combined;\n  error_log /var/log/nginx/mysite.net.error.log;\n\n  client_max_body_size 5m;\n\n  index index.php;\n  \n  root /www/mysite.net;\n  \n  location = /favicon.ico {\n    log_not_found off;\n    access_log off;\n  }\n\n  location = /robots.txt {\n    allow all;\n    log_not_found off;\n    access_log off;\n  }\n\n  location ~* \\.(js|css|png|jpg|jpeg|gif|ico)$ {\n    expires max;\n    log_not_found off;\n  }\n\n  location ~ /\\. {\n    access_log off;\n    log_not_found off;\n    deny all;\n  }\n\n  location / {\n    index  index.php index.html index.htm;\n\n    if (!-e $request_filename) {\n       rewrite ^.*$ /index.php last;\n    }\n  }\n\n  # pass the PHP scripts to FastCGI\n  location ~ \\.php$ {\n    fastcgi_pass   127.0.0.1:9000;\n    fastcgi_index  index.php;\n    fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;\n    include        fastcgi_params;\n  }\n\n  # Include W3 Total Cache code\n  include sites-available/w3tc.inc;\n\n  \n  # Place any custom code in this file:\n  include sites-available/mysite.net_custom.inc;\n}\n"},"exported":false,"title":"/etc/nginx/sites-available/mysite.net.conf","type":"File","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/init.pp","tags":["hosting::site","hosting","site","file"]},{"aliases":["php-apc"],"sourceline":14,"parameters":{"ensure":"present","require":"Class[hosting::php]","name":"php-apc","provider":"apt"},"exported":false,"title":"php-apc","type":"Package","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/php.pp","tags":["hosting::php","package","php","hosting"]},{"aliases":["php5-mysql"],"sourceline":14,"parameters":{"ensure":"present","require":"Class[hosting::php]","name":"php5-mysql","provider":"apt"},"exported":false,"title":"php5-mysql","type":"Package","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/php.pp","tags":["hosting::php","package","php","hosting"]},{"aliases":["mysql-server"],"sourceline":6,"parameters":{"ensure":"present","require":"Class[hosting::mysql]","name":"mysql-server","provider":"apt"},"exported":false,"title":"mysql-server","type":"Package","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/mysql.pp","tags":["mysql","hosting::mysql","package","hosting"]},{"aliases":["nginx"],"sourceline":23,"parameters":{"ensure":"running","require":["Class[hosting]","Package[nginx]"]},"exported":false,"title":"nginx","type":"Service","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/init.pp","tags":["service","hosting"]},{"aliases":["hosting"],"sourceline":3,"parameters":{},"exported":false,"title":"Hosting","type":"Class","sourcefile":"/catalog/puppet-hosting/manifests/site.pp","tags":[]},{"aliases":["www"],"sourceline":28,"parameters":{"group":"root","ensure":"directory","path":"/www","require":"Class[hosting]","mode":"0644"},"exported":false,"title":"/www","type":"File","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/init.pp","tags":["hosting","file"]},{"aliases":["php5-fpm"],"sourceline":18,"parameters":{"ensure":"running","require":"Class[hosting::php]"},"exported":false,"title":"php5-fpm","type":"Service","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/php.pp","tags":["service","hosting::php","php","hosting"]},{"aliases":["activate_mysite.net"],"sourceline":133,"parameters":{"group":"root","ensure":"link","path":"/etc/nginx/sites-enabled/mysite.net.conf","require":"File[/etc/nginx/sites-available/mysite.net.conf]","mode":"0644","target":"/etc/nginx/sites-available/mysite.net.conf"},"exported":false,"title":"/etc/nginx/sites-enabled/mysite.net.conf","type":"File","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/init.pp","tags":["hosting::site","hosting","site","file"]},{"aliases":["php5-fpm"],"sourceline":14,"parameters":{"ensure":"present","require":"Class[hosting::php]","name":"php5-fpm","provider":"apt"},"exported":false,"title":"php5-fpm","type":"Package","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/php.pp","tags":["hosting::php","package","php","hosting"]},{"aliases":["php5-gd"],"sourceline":14,"parameters":{"ensure":"present","require":"Class[hosting::php]","name":"php5-gd","provider":"apt"},"exported":false,"title":"php5-gd","type":"Package","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/php.pp","tags":["hosting::php","package","php","hosting"]},{"aliases":["hosting::mysql"],"sourceline":5,"parameters":{},"exported":false,"title":"Hosting::Mysql","type":"Class","sourcefile":"/catalog/puppet-hosting/manifests/site.pp","tags":[]},{"aliases":["mysql"],"sourceline":10,"parameters":{"ensure":"running","require":["Package[mysql]","Class[hosting::mysql]"]},"exported":false,"title":"mysql","type":"Service","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/mysql.pp","tags":["mysql","service","hosting::mysql","hosting"]},{"aliases":["w3tc.inc"],"sourceline":33,"parameters":{"group":"root","ensure":"file","path":"/etc/nginx/sites-available/w3tc.inc","require":"Class[hosting]","mode":"0644","source":["puppet:///modules/hosting/w3tc.inc"]},"exported":false,"title":"/etc/nginx/sites-available/w3tc.inc","type":"File","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/init.pp","tags":["hosting","file"]},{"aliases":["mysql"],"sourceline":2,"parameters":{"ensure":"present","name":"mysql","provider":"apt"},"exported":false,"title":"mysql","type":"Package","sourcefile":"/catalog/puppet-hosting/manifests/site.pp","tags":["package"]},{"aliases":["custom_mysite.net"],"sourceline":140,"parameters":{"group":"root","ensure":"file","path":"/etc/nginx/sites-available/mysite.net_custom.inc","mode":"0644"},"exported":false,"title":"/etc/nginx/sites-available/mysite.net_custom.inc","type":"File","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/init.pp","tags":["hosting::site","hosting","site","file"]},{"aliases":["hosting::php"],"sourceline":4,"parameters":{},"exported":false,"title":"Hosting::Php","type":"Class","sourcefile":"/catalog/puppet-hosting/manifests/site.pp","tags":[]},{"aliases":["cloudflare.inc"],"sourceline":39,"parameters":{"group":"root","ensure":"file","path":"/etc/nginx/sites-available/cloudflare.inc","require":"Class[hosting]","mode":"0644","source":["puppet:///modules/hosting/cloudflare.inc"]},"exported":false,"title":"/etc/nginx/sites-available/cloudflare.inc","type":"File","sourcefile":"/catalog/puppet-hosting/modules/hosting/manifests/init.pp","tags":["hosting","file"]}],"transaction-uuid":"uiid","name":"test","version":"version","edges":[]},"metadata":{"api_version":1}}
